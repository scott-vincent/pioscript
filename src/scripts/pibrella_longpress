# This script demonstrates using a single button for multiple
# purposes. If the button is pressed briefly it changes which
# LED is lit but if it is held down the script will exit.
#
# The script exits when the button is pressed and held for more
# than 1 second.

:Main
set ledNum = 1
start Monitor Button

:Monitor Button
wait_press Button
start_sync 
while not released(Button)
	wait .1
end_while
if sync() > 1
	exit
end_if
if ledNum = 1
	turn_off *
	turn_on Red
	ledNum = 2
else
	if ledNum = 2
		turn_off *
		turn_on Amber
		ledNum = 3
	else
		turn_off *
		turn_on Green
		ledNum = 1
	end_if
end_if
repeat
